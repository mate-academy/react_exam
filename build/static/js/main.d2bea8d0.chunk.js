(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{22:function(e,t,n){e.exports=n(31)},31:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(8),u=n.n(r),l=n(2),o=n(9),i=n(10),d=n(20),s=n(18),E=n(21);var p=function(){return c.a.createElement("div",null,"Loading....")},O=new(function(){function e(){Object(o.a)(this,e),this.apiBase="http://my-json-server.typicode.com/mate-academy/literary-blog/"}return Object(i.a)(e,[{key:"getAuthors",value:function(){return this._getData("authors")}},{key:"_getData",value:function(e){return fetch("".concat(this.apiBase).concat(e)).then(function(e){return e.json()})}}]),e}()),b=function(e){return{type:"CHANGE_ITEM",payload:e}},f=function(e){return{type:"CHANGE_INPUT_VALUE",payload:e}};var h=function(e){var t=e.text,n=e.clickAction,a=e.disabled;return c.a.createElement("button",{type:"button",onClick:function(){return n()},disabled:a},t)};var m={changeInputValue:f,changeItem:b,deleteItem:function(){return{type:"DELETE_ITEM"}}},I=Object(l.b)(function(e){return{inputValue:e.inputValue}},m)(function(e){var t=e.inputValue,n=e.changeInputValue,a=e.changeItem,r=e.deleteItem;return c.a.createElement(c.a.Fragment,null,c.a.createElement("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)}}),c.a.createElement(h,{text:"Change Author",clickAction:function(){return a(t)}}),c.a.createElement(h,{text:"Delete Author",clickAction:function(){return r()}}))}),j={selectItem:function(e,t){return{type:"SELECT_ITEM",payload:{index:e,value:t}}},changeItem:b,changeInputValue:f},v=Object(l.b)(function(e){return{selectedIndex:e.selectedIndex,inputValue:e.inputValue}},j)(function(e){var t=e.author,n=e.index,a=e.selectedIndex,r=e.selectItem;return n===a?c.a.createElement(I,null):c.a.createElement("div",{className:"author-item",onClick:function(){return r(n,t)}},t)});var y=function(e){var t=e.authors;return c.a.createElement("ul",null,t.map(function(e,t){var n="#".concat(t);return c.a.createElement("li",{key:n},c.a.createElement(v,{author:e,index:t}))}))};var g,_={clearSelection:function(){return{type:"CLEAR_SELECTION"}},moveSelectionUp:function(){return{type:"MOVE_SELECTION_UP"}},moveSelectionDown:function(){return{type:"MOVE_SELECTION_DOWN"}}},x=Object(l.b)(function(e){return{selectedIndex:e.selectedIndex,authors:e.authors}},_)(function(e){var t=e.selectedIndex,n=e.authors,a=e.clearSelection,r=e.moveSelectionUp,u=e.moveSelectionDown,l=null===t||0===t,o=null===t||t===n.length-1,i=null===t;return c.a.createElement("div",null,c.a.createElement(h,{text:"Up",clickAction:function(){return r()},disabled:l}),c.a.createElement(h,{text:"Down",clickAction:function(){return u()},disabled:o}),c.a.createElement(h,{text:"Clear selection",clickAction:function(){return a()},disabled:i}))}),C=function(e){function t(){return Object(o.a)(this,t),Object(d.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(E.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.dataLoading)()}},{key:"render",value:function(){var e=this.props,t=e.authors;return e.loading?c.a.createElement(p,null):c.a.createElement(c.a.Fragment,null,c.a.createElement(y,{authors:t}),c.a.createElement(x,null))}}]),t}(a.Component),T={dataLoading:function(){return function(e){return e({type:"FETCH_AUTHOR_REQUEST"}),O.getAuthors().then(function(t){return e({type:"FETCH_AUTHOR_SUCCESS",payload:t})})}}},A=Object(l.b)(function(e){return{authors:e.authors,loading:e.loading}},T)(C),S=n(7),V=n(19),L=n(1),U=n(14),k=n(6),N=n(3),H={authors:[],loading:!1,selectedIndex:null,inputValue:""},D=(g={},Object(L.a)(g,"FETCH_AUTHOR_REQUEST",function(e){return Object(N.a)({},e,{loading:!0})}),Object(L.a)(g,"FETCH_AUTHOR_SUCCESS",function(e,t){return Object(N.a)({},e,{authors:t.payload,loading:!1})}),Object(L.a)(g,"SELECT_ITEM",function(e,t){return Object(N.a)({},e,{selectedIndex:t.payload.index,inputValue:t.payload.value})}),Object(L.a)(g,"CLEAR_SELECTION",function(e){return Object(N.a)({},e,{selectedIndex:null})}),Object(L.a)(g,"CHANGE_ITEM",function(e,t){var n=e.selectedIndex,a=e.authors,c=t.payload,r=Object(k.a)(a);return""===c?r.splice(n,1):r[n]=c,Object(N.a)({},e,{authors:Object(k.a)(r),selectedIndex:null,inputValue:""})}),Object(L.a)(g,"DELETE_ITEM",function(e){var t=e.selectedIndex,n=e.authors,a=Object(k.a)(n);return a.splice(t,1),Object(N.a)({},e,{authors:Object(k.a)(a),selectedIndex:null,inputValue:""})}),Object(L.a)(g,"CHANGE_INPUT_VALUE",function(e,t){return Object(N.a)({},e,{inputValue:t.payload})}),Object(L.a)(g,"MOVE_SELECTION_UP",function(e){var t=e.selectedIndex,n=e.authors;if(0===t)return e;var a=Object(k.a)(n),c=a.splice(t,1),r=Object(U.a)(c,1)[0];return a.splice(t-1,0,r),Object(N.a)({},e,{authors:a,selectedIndex:t-1})}),Object(L.a)(g,"MOVE_SELECTION_DOWN",function(e){var t=e.selectedIndex,n=e.authors;if(t===n.length-1)return e;var a=Object(k.a)(n),c=a.splice(t,1),r=Object(U.a)(c,1)[0];return a.splice(t+1,0,r),Object(N.a)({},e,{authors:a,selectedIndex:t+1})}),g),M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,n=D[t.type];return n?n(e,t):e},w=Object(S.c)(M,Object(S.a)(V.a));u.a.render(c.a.createElement(l.a,{store:w},c.a.createElement(A,null)),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.d2bea8d0.chunk.js.map