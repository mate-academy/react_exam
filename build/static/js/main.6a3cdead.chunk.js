(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(28)},21:function(e,t,n){},22:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(6),o=n.n(u),c=(n(21),n(22),n(5)),i=n(4);n(27);var l="load_data",s="display_data",d="remove_author",p="select_item",m="move_up",v="move_down",h="remove_select",f="add_value_to_input",b="change_input_value",x="save_canged_value";function y(){return function(e){e({type:l});var t=new XMLHttpRequest;t.open("GET","http://my-json-server.typicode.com/mate-academy/literary-blog/authors"),t.responseType="json",t.addEventListener("load",function(){var n=t.response;e(function(e){return{type:s,authorList:e}}(n))}),t.send()}}var E=Object(i.b)(function(e,t){return{author:t.author,index:t.index,isSelected:e.selectedIndex===t.index,input:e.input}},function(e){return{itemClicked:function(t){return e(function(e){return{type:p,index:e}}(t))},removeAuthor:function(t){return e(function(e){return{type:d,index:e}}(t))},addValueToInput:function(t){return e(function(e){return{type:f,input:e}}(t))}}})(function(e){var t=e.author,n=e.removeAuthor,a=e.index,u=e.itemClicked,o=e.addValueToInput,c=e.isSelected;return r.a.createElement("div",{className:c?"selected author-item":"author-item"},r.a.createElement("span",{className:"author",onClick:function(){return u(a)}},t),r.a.createElement("div",{className:c?"selected":"buttons-bar"},r.a.createElement("button",{type:"button",onClick:function(){return o(t)}},"Edit"),r.a.createElement("button",{type:"button",className:"remove-author",title:"Remove author",onClick:function(){return n(a)}},"\xd7")))});var j=Object(i.b)(function(e){return{index:e.selectedIndex,authorsRequested:e.requested,authorList:e.authorList,input:e.input}},function(e){return{buttonClicked:function(){return e(y())},moveUp:function(t){return e({type:m})},moveDown:function(t){return e({type:v})},removeSelect:function(){return e({type:h})},changeInputValue:function(t){return e({type:b,value:t})},saveChangedValue:function(){return e({type:x})}}})(function(e){var t=e.authorList,n=e.authorsRequested,a=e.buttonClicked,u=e.input,o=e.changeInputValue,c=e.index,i=e.moveUp,l=e.moveDown,s=e.saveChangedValue,d=null!==u,p=!d;return n?null===t?r.a.createElement("span",null,"Loading..."):r.a.createElement("div",{className:"container"},t.map(function(e,t){return r.a.createElement(E,{key:t,author:e,index:t})}),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return i(c)},disabled:0===c||null===c},"Move Up"),r.a.createElement("button",{onClick:function(){return l(c)},disabled:c===t.length-1||null===c},"Move Down")),r.a.createElement("div",{className:"editor"},r.a.createElement("label",null,"Editor:",r.a.createElement("input",{type:"text",name:"edit",className:"editor__field",disabled:p,value:d?u:"",onChange:function(e){return o(e.target.value)}})),r.a.createElement("button",{type:"button",onClick:function(){return s()},disabled:p},"Save"))):r.a.createElement("button",{onClick:a},"Load")}),O=n(10),g=n(11),w=n(1),I={selectedIndex:null,requested:!1,authorList:null,input:null};var L=n(15),k=Object(c.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0,n=e.selectedIndex,a=e.authorList,r=e.input;switch(t.type){case l:return Object(w.a)({},e,{requested:!0});case s:return Object(w.a)({},e,{authorList:t.authorList});case d:return Object(w.a)({},e,{authorList:a.slice(0,t.index).concat(a.slice(t.index+1)),selectedIndex:null});case p:return null===n||n!==t.index?Object(w.a)({},e,{selectedIndex:t.index}):Object(w.a)({},e,{selectedIndex:null});case h:return Object(w.a)({},e,{selectedIndex:null});case m:if(0===n)return e;var u=Object(g.a)(a),o=u.splice(n,1),c=Object(O.a)(o,1)[0];return u.splice(n-1,0,c),Object(w.a)({},e,{authorList:u,selectedIndex:n-1});case v:if(n===a.length-1)return e;var i=Object(g.a)(a),y=i.splice(n,1),E=Object(O.a)(y,1)[0];return i.splice(n+1,0,E),Object(w.a)({},e,{authorList:i,selectedIndex:n+1});case f:return Object(w.a)({},e,{input:a[n]});case b:return Object(w.a)({},e,{input:t.value});case x:return""!==r?Object(w.a)({},e,{authorList:a.map(function(e,t){return t!==n?e:r}),input:null,selectedIndex:null}):Object(w.a)({},e,{authorList:a.filter(function(e,t){return n!==t}),input:null,selectedIndex:null});default:return e}},Object(c.a)(L.a));var _=function(){return r.a.createElement(i.a,{store:k},r.a.createElement(j,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[16,1,2]]]);
//# sourceMappingURL=main.6a3cdead.chunk.js.map