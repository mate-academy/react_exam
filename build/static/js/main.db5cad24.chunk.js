(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(33)},25:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),d=n(6),o=n.n(d),c=(n(25),n(4)),u=n(5),l=n(13),s=n(1),i=n(17),h="load",m="display",p="select_author",v="deselect_author",x="delete_author",I="edit_author",b="cancel_editing",f="update_author",N="update_edited_name",E="move_author_up",w="move_author_down";function y(){return function(e){e({type:h}),fetch("http://my-json-server.typicode.com/mate-academy/literary-blog/authors").then(function(e){return e.json()}).then(function(t){var n;e((n=t,setInterval(function(){},2e3),{type:m,authors:n}))})}}var j={authors:null,selectedIndex:null,editedName:null,editMode:null,requested:!1};function O(e,t,n){var a=Object(i.a)(e),r=[a[n],a[t]];return a[t]=r[0],a[n]=r[1],a}var A=n(14),k=n(15),g=n(18),M=n(16),_=n(19);n(30);var C=Object(c.b)(function(e,t){var n=e.selectedIndex===t.authorIndex,a=e.editMode&&n;return{author:t.author,isSelected:n,editable:a,editedName:a?e.editedName:null,selectedIndex:e.selectedIndex,disabled:t.allAuthor}},function(e,t){return{selectAuthor:function(){return e((n=t.authorIndex,{type:p,selectedIndex:n}));var n},deletedAuthor:function(){return e((n=t.authorIndex,{type:x,authorIndex:n}));var n},editAuthor:function(){return e({type:I})},updateEditedName:function(t){return e(function(e){return{type:N,editedName:e}}(t))},cancelEditing:function(){return e({type:b})},updateAuthor:function(){return e({type:f})},moveAuthorUp:function(){return e({type:E})},moveAuthorDown:function(){return e({type:w})}}})(function(e){return r.a.createElement("article",{className:e.isSelected?"selected":null},e.editable?r.a.createElement("input",{type:"text",autoFocus:!0,value:e.editedName,onChange:function(t){return e.updateEditedName(t.target.value)},onKeyDown:function(t){"Enter"===t.key?e.updateAuthor():"Escape"===t.key&&e.cancelEditing()}}):r.a.createElement("div",{className:"author"},r.a.createElement("p",{onClick:e.selectAuthor},e.author),r.a.createElement("button",{className:"btn-remove show-when-selected",onClick:e.deletedAuthor},"\xd7")),r.a.createElement("div",{className:"author-btn"},r.a.createElement("button",{className:"show-when-selected btn",onClick:e.editAuthor},"Edit"),r.a.createElement("button",{disabled:0===e.selectedIndex||null===e.selectedIndex,className:"show-when-selected btn",onClick:e.moveAuthorUp},"Up"),r.a.createElement("button",{disabled:e.selectedIndex===e.disabled.length-1||null===e.selectedIndex,className:"show-when-selected btn",onClick:e.moveAuthorDown},"Down")))}),q=(n(31),function(e){function t(){return Object(A.a)(this,t),Object(g.a)(this,Object(M.a)(t).apply(this,arguments))}return Object(_.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this;return this.props.requested?null===this.props.authors?r.a.createElement("div",{className:"\ud83e\udd1a"},r.a.createElement("div",{className:"\ud83d\udc49"}),r.a.createElement("div",{className:"\ud83d\udc49"}),r.a.createElement("div",{className:"\ud83d\udc49"}),r.a.createElement("div",{className:"\ud83d\udc49"}),r.a.createElement("div",{className:"\ud83c\udf34"}),r.a.createElement("div",{className:"\ud83d\udc4d"})):this.props.authors.map(function(t,n){return r.a.createElement(C,{key:n,author:t,authorIndex:n,allAuthor:e.props.authors})}):r.a.createElement("div",{className:"btn-preLoad",onClick:this.props.load},"Load")}}]),t}(a.Component));var D=Object(c.b)(function(e){return{authors:e.authors,selectedIndex:e.selectedIndex,editMode:e.editMode,editedName:e.editedName,requested:e.requested}},function(e){return{load:function(){return e(y())},deselectAuthor:function(){return e({type:v})}}})(q),U=(n(32),Object(u.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(s.a)({},e,{requested:!0});case m:return Object(s.a)({},e,{authors:t.authors,editMode:!1});case p:return e.editMode?e:Object(s.a)({},e,{selectedIndex:t.selectedIndex});case v:return e.editMode?e:Object(s.a)({},e,{selectedIndex:null});case x:var n;return n=e.selectedIndex===t.authorIndex?null:e.selectedIndex>t.authorIndex?e.selectedIndex-1:e.selectedIndex,Object(s.a)({},e,{authors:e.authors.filter(function(e,n){return n!==t.authorIndex}),selectedIndex:n,editMode:e.selectedIndex!==t.authorIndex&&e.editMode,editedName:e.selectedIndex===t.authorIndex?null:e.editedName});case I:return Object(s.a)({},e,{editMode:!0,editedName:e.authors[e.selectedIndex].author});case b:return Object(s.a)({},e,{editMode:!1,editedName:null});case f:return Object(s.a)({},e,{authors:e.authors.map(function(t,n){return n!==e.selectedIndex?t:e.editedName}),editMode:!1});case N:return Object(s.a)({},e,{editedName:t.editedName});case E:return Object(s.a)({},e,{authors:O(e.authors,e.selectedIndex,e.selectedIndex-1),selectedIndex:e.selectedIndex-1});case w:return Object(s.a)({},e,{authors:O(e.authors,e.selectedIndex,e.selectedIndex+1),selectedIndex:e.selectedIndex+1});default:return e}},Object(u.a)(l.a)));var B=function(){return r.a.createElement("div",{className:"app"},r.a.createElement(c.a,{store:U},r.a.createElement(D,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,1,2]]]);
//# sourceMappingURL=main.db5cad24.chunk.js.map