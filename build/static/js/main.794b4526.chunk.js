(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},20:function(e,t,n){},21:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(6),o=n.n(i),c=(n(20),n(5)),u=(n(21),n(4)),l=n(10),d=n(2),s="load_data",m="fill_data",f="remove_author",h="click_edit",p="edit_author",v="click_replace",E="replace_author",b="exit_from_editing";function k(){return function(e){e({type:s}),fetch("http://my-json-server.typicode.com/mate-academy/literary-blog/authors").then(function(e){return e.json()}).then(function(t){e({type:m,data:t})})}}var y={requested:!1,data:null,index:null,edit:!1,move:!1};var w=n(14);n(26);var x=function(e){var t=e.edition,n=e.moving,a=e.index,i=e.author,o=e.id,c=e.removeAuthor,u=e.clickEdit,l=e.editAuthor,d=e.clickReplace,s=e.replaceAuthor;if(a===o){if(t)return r.a.createElement("li",{className:"author"},r.a.createElement("span",null,o+1,". ",i),r.a.createElement("input",{onKeyDown:function(e){"Enter"===e.key&&l(e.target.value)},autoFocus:!0,placeholder:"New name"}),r.a.createElement("a",{href:"#",onClick:function(){return c(o)}},"X"));if(n)return r.a.createElement("li",{className:"author"},r.a.createElement("span",null,o+1,". ",i),r.a.createElement("input",{onKeyDown:function(e){"Enter"===e.key&&s(e.target.value)},autoFocus:!0,placeholder:"New position"}),r.a.createElement("a",{href:"#",onClick:function(){return c(o)}},"X"))}return r.a.createElement("li",{className:"author"},r.a.createElement("span",null,o+1,". ",i),r.a.createElement("a",{href:"#",onClick:function(){return u(o)}},"Edit"),r.a.createElement("a",{href:"#",onClick:function(){return d(o)}},"Replace"),r.a.createElement("a",{href:"#",onClick:function(){return c(o)}},"X"))};var g=Object(u.b)(function(e,t){return{edition:e.edit,moving:e.move,index:e.index,name:t.author,id:t.index}},function(e){return{removeAuthor:function(t){return e(function(e){return{type:f,index:e}}(t))},clickEdit:function(t){return e(function(e){return{type:h,id:e}}(t))},editAuthor:function(t){return e(function(e){return{type:p,inputValue:e}}(t))},clickReplace:function(t){return e(function(e){return{type:v,id:e}}(t))},replaceAuthor:function(t){return e(function(e){return{type:E,newPosition:e}}(t))}}})(x);var j=function(e){var t=e.dataRequested,n=e.authors,a=e.buttonClicked,i=e.exitFromEditing;return t?null===n?r.a.createElement("span",{className:"loading"},"Loading..."):r.a.createElement("section",{onClick:function(e){e.target.closest("a")||i()}},r.a.createElement("h2",null,"Authors:"),r.a.createElement("ol",{className:"list"},n.map(function(e,t){return r.a.createElement(g,{author:e,index:t,key:e})}))):r.a.createElement("button",{onClick:a,className:"load"},"Load authors")};var O=Object(u.b)(function(e){return{dataRequested:e.requested,authors:e.data}},function(e){return{buttonClicked:function(){return e(k())},exitFromEditing:function(){return e({type:b})}}})(j),C=Object(c.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s:return Object(d.a)({},e,{requested:!0});case m:return Object(d.a)({},e,{data:t.data});case f:var n=Object(l.a)(e.data);return n.splice(t.index,1),Object(d.a)({},e,{data:n,index:null,edit:!1,move:!1});case h:return Object(d.a)({},e,{index:t.id,edit:!0});case p:return Object(d.a)({},e,{data:e.data.map(function(n,a){return a!==e.index?n:t.inputValue}),edit:!1});case v:return Object(d.a)({},e,{index:t.id,move:!0});case E:var a=Object(l.a)(e.data),r=a.splice(e.index,1);return a.splice(t.newPosition-1,0,r[0]),Object(d.a)({},e,{data:a,move:!1});case b:return Object(d.a)({},e,{index:null,move:!1,edit:!1});default:return e}},Object(c.a)(w.a));var _=function(){return r.a.createElement(u.a,{store:C},r.a.createElement(O,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[15,1,2]]]);
//# sourceMappingURL=main.794b4526.chunk.js.map