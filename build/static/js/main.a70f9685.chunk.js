(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(32)},26:function(e,t,n){},27:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(6),u=n.n(a),c=(n(26),n(27),n(5)),i=n(7),s=n(15),l=n(16),d=n(17),h=n(20),p=n(18),m=n(1),v=n(19),f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).moveAuthorDown=n.moveAuthorDown.bind(Object(m.a)(n)),n.moveAuthorUp=n.moveAuthorUp.bind(Object(m.a)(n)),n.editAuthor=n.editAuthor.bind(Object(m.a)(n)),n.removeAuthor=n.removeAuthor.bind(Object(m.a)(n)),n.selectAuthor=n.selectAuthor.bind(Object(m.a)(n)),n.loadList=n.loadList.bind(Object(m.a)(n)),n.removeSelection=n.removeSelection.bind(Object(m.a)(n)),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"loadList",value:function(){this.props.load()}},{key:"moveAuthorDown",value:function(){this.props.moveDown()}},{key:"moveAuthorUp",value:function(){this.props.moveUp()}},{key:"removeAuthor",value:function(e){this.props.deleteItem(e)}},{key:"selectAuthor",value:function(e){this.props.selectItem(e)}},{key:"removeSelection",value:function(){this.props.clearSelection()}},{key:"editAuthor",value:function(e){this.props.editing(this.refs.input.value,this.props.selected),console.log(this.refs.input.value)}},{key:"render",value:function(){var e=this;return this.props.requested?null===this.props.authors?o.a.createElement("span",null,"Loading ..."):o.a.createElement("div",null,o.a.createElement("button",{onClick:this.moveAuthorUp,className:"moveUp"},"Move up"),o.a.createElement("ul",{className:"list"},this.props.authors.map(function(t,n){return n!==e.props.selected?o.a.createElement("li",{onClick:function(){return e.selectAuthor(n)},className:"item",key:t},o.a.createElement("span",null,t),o.a.createElement("a",{href:"#",className:"remove",onClick:function(){return e.removeAuthor(n)}},"\xd7")):o.a.createElement("li",{onClick:function(){return e.selectAuthor(n)},className:"item",key:t},o.a.createElement("input",{ref:"input",onChange:function(){return e.editAuthor()},defaultValue:t}),o.a.createElement("a",{href:"#",className:"remove",onClick:function(){return e.removeAuthor(n)}},"\xd7"))})),o.a.createElement("button",{onClick:this.moveAuthorDown,className:"moveDown"},"Move down"),o.a.createElement("button",{onClick:this.removeSelection},"Clear selection")):o.a.createElement("button",{onClick:this.loadList},"Load")}}]),t}(r.Component),b="load",j="display",y="edit in progress",O="delete",w="move up",k="move down",A="select item",E="clear select",g="edit in progress";function C(){return function(e){e({type:b});var t=new XMLHttpRequest;t.open("GET","http://my-json-server.typicode.com/mate-academy/literary-blog/authors"),t.responseType="json",t.addEventListener("load",function(){var n=t.response;e({type:j,authors:n})}),t.send()}}var x=Object(i.b)(function(e){return{requested:e.requested,authors:e.authors,selected:e.selected}},function(e){return{load:function(){return e(C())},moveDown:function(){return e({type:k})},moveUp:function(){return e({type:w})},deleteItem:function(t){return e(function(e){return{type:O,index:e}}(t))},selectItem:function(t){return e(function(e){return{type:A,index:e}}(t))},clearSelection:function(){return e({type:E})},editing:function(t,n){return e(function(e,t){return{type:g,inputValue:e,index:t}}(t,n))}}})(f),L=n(11),D=n(2),N={requested:!1,authors:null,edited:!1,selected:null};var U=Object(c.c)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(D.a)({},e,{requested:!0});case j:return Object(D.a)({},e,{authors:t.authors});case O:return Object(D.a)({},e,{authors:e.authors.filter(function(n){return e.authors.indexOf(n)!==t.index})});case A:return Object(D.a)({},e,{selected:t.index});case E:return Object(D.a)({},e,{selected:null});case w:return function(e){var t=Object(L.a)(e.authors);if(0===e.selected||null===e.selected)return e;var n=t.splice(e.selected,1);return t.splice(e.selected-1,0,n[0]),Object(D.a)({},e,{authors:t,selected:e.selected-1})}(e);case k:return function(e){var t=Object(L.a)(e.authors);if(e.selected===t.length-1||null===e.selected)return e;var n=t.splice(e.selected,1);return t.splice(e.selected+1,0,n[0]),Object(D.a)({},e,{authors:t,selected:e.selected+1})}(e);case y:return Object(D.a)({},e,{edited:!0});case g:return Object(D.a)({},e,{authors:e.authors.map(function(e,n){return n===t.index?t.inputValue:e})});default:return e}},Object(c.a)(s.a));var q=function(){return o.a.createElement(i.a,{store:U},o.a.createElement(x,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));u.a.render(o.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[21,1,2]]]);
//# sourceMappingURL=main.a70f9685.chunk.js.map