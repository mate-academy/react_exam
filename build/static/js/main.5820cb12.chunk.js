(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,t,n){e.exports=n(30)},24:function(e,t,n){},25:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(7),d=n.n(o),u=(n(24),n(13)),c=n(14),i=n(17),l=n(15),s=n(18),m=(n(25),n(1)),f=n(5),p="edit_author",h="delete_author",y="load_authors",b="set_loaded",v="display",O="order",j="add_order",E="remove_order",I="start_edit",D="stop_edit";var _=Object(f.b)(function(e){return Object(m.a)({},e)},function(e){return{addOrder:function(t){return e(function(e){return{type:j,payload:e}}(t))},removeOrder:function(t){return e(function(e){return{type:E,payload:e}}(t))},removeAuthor:function(t){return e(function(e){return{type:h,payload:e}}(t))},editAuthor:function(t){return e(function(e){return{type:p,payload:e}}(t))},startEditingAuthor:function(t){return e(function(e){return{type:I,payload:e}}(t))},stopEditingAuthor:function(t){return e(function(e){return{type:D,payload:e}}(t))}}})(function(e){var t,n=e.value,r=e.addOrder,o=e.removeOrder,d=e.removeAuthor,u=e.startEditingAuthor,c=e.stopEditingAuthor,i=e.editAuthor;return t=n.selected?a.a.createElement("td",{className:"name__field"},a.a.createElement("form",{onSubmit:function(e){e.preventDefault();var t=document.getElementById("inputName");i({id:n.id,name:t.value}),t.blur()}},a.a.createElement("input",{id:"inputName",defaultValue:n.name,onBlur:function(){return c({id:n.id})},autoFocus:!0}))):a.a.createElement("td",{className:"name__field",onClick:function(){return u({id:n.id})}},n.name),a.a.createElement("tr",null,t,a.a.createElement("td",{class:"updown__field"},a.a.createElement("a",{onClick:function(){o({id:n.id})}},"\u2b06\ufe0f"),a.a.createElement("a",{onClick:function(){r({id:n.id})}},"\u2b07\ufe0f")),a.a.createElement("td",{className:"delete__field"}," ",a.a.createElement("a",{onClick:function(){d({id:n.id})}},"\u2716\ufe0f")))}),g=function(e){var t=e.items.map(function(e){return a.a.createElement(_,{value:e})});return a.a.createElement("table",null,a.a.createElement("tr",null,a.a.createElement("th",null,"Name"),a.a.createElement("th",null,"Sort"),a.a.createElement("th",null,"Delete")),t)};var w=function(e){function t(){return Object(u.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.props.requestedData?null!=this.props.renderItems?a.a.createElement(g,{items:this.props.renderItems}):a.a.createElement("p",null," Loading... "):a.a.createElement("button",{onClick:this.props.loadAuthors},"Load")}}]),t}(a.a.Component),k=Object(f.b)(function(e){return{renderItems:e.renderItems,requestedData:e.requestedData,loadedData:e.loadedData}},function(e){return{loadAuthors:function(){return e({type:y})}}})(w);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var A=n(6),x=n(4),C={requestedData:!1,renderItems:null,loadedData:null};var N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return fetch("http://my-json-server.typicode.com/mate-academy/literary-blog/authors").then(function(e){return e.json()}).then(function(e){return e.map(function(e,t){return{id:t+1,name:e,order:t,selected:!1}})}).then(function(e){t.asyncDispatch({type:b,payload:e}),t.asyncDispatch(function(e){return{type:v,payload:e}}(e)),t.asyncDispatch({type:O})}),Object(m.a)({},e,{requestedData:!0});case b:return Object(m.a)({},e,{loadedData:t.payload});case v:return Object(m.a)({},e,{renderItems:t.payload});case O:var n=Object(x.a)(e.loadedData);return n.sort(function(e,t){return e.order-t.order}),Object(m.a)({},e,{renderItems:n});case j:var r=e.renderItems.find(function(e){return e.id===t.payload.id}),a=e.renderItems.indexOf(r),o=Object(x.a)(e.renderItems);if(r&&a>-1&&o.length-a>=2){o[a].order++,o[a+1].order--;var d=o[a];o[a]=o[a+1],o[a+1]=d}return Object(m.a)({},e,{renderItems:o});case E:var u=e.renderItems.find(function(e){return e.id===t.payload.id}),c=e.renderItems.indexOf(u),i=Object(x.a)(e.renderItems);if(u&&c>-1&&c>0){i[c].order--,i[c-1].order++;var l=i[c];i[c]=i[c-1],i[c-1]=l}return Object(m.a)({},e,{renderItems:i});case h:return Object(m.a)({},e,{renderItems:e.renderItems.filter(function(e){return e.id!=t.payload.id})});case I:var s=Object(x.a)(e.renderItems),f=s.find(function(e){return e.id===t.payload.id}),_=s.indexOf(f);return s[_].selected=!0,Object(m.a)({},e,{renderItems:s});case D:var g=Object(x.a)(e.renderItems),w=g.find(function(e){return e.id===t.payload.id}),k=g.indexOf(w);return g[k].selected=!1,Object(m.a)({},e,{renderItems:g});case p:var A=Object(x.a)(e.renderItems),N=A.find(function(e){return e.id===t.payload.id}),q=A.indexOf(N);return A[q].name=t.payload.name,Object(m.a)({},e,{renderItems:A});default:return e}},q=Object(A.c)(N,Object(A.a)(function(e){return function(t){return function(n){var r=!1,a=[];function o(){a.forEach(function(t){return e.dispatch(t)}),a=[]}var d=Object.assign({},n,{asyncDispatch:function(e){a=a.concat([e]),r&&o()}});t(d),r=!0,o()}}}));d.a.render(a.a.createElement(f.a,{store:q},a.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.5820cb12.chunk.js.map